//==================================================================================================
/// @file       main.c
/// @brief      main
//==================================================================================================

//==================================================================================================
// Include definition
//==================================================================================================
#include "file_server.h"
#include "web_server_task.h"
#include "sdkconfig.h"
#include "esp_log.h"
#include "freertos/FreeRTOS.h"
#include "freertos/task.h"


//==================================================================================================
// Constant definition
//==================================================================================================
/* RTOS settings */
#define HIGH_TASK_PRIORITY  ( 5 )
#define LOW_TASK_PRIORITY   ( 0 )
#define STACK_DEPTH         ( 8192 )


//==================================================================================================
// Public functions
//==================================================================================================

//--------------------------------------------------------------------------------------------------
/// @brief  main
//--------------------------------------------------------------------------------------------------
void app_main( void ) {
    // Create FreeRTOS task
    // function, name, stack depth, parameter, priority, control block, cpu core
    xTaskCreatePinnedToCore(
        web_server_task_start,       
        "WEB_SERVER",       
        STACK_DEPTH,    
        NULL,              
        LOW_TASK_PRIORITY,    
        NULL,             
        APP_CPU_NUM 
    );
}